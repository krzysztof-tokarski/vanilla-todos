(()=>{"use strict";class t{constructor(t,e,n,o){this.title=t,this.description=e,this.dueDate=n,this.priority=o,this.todos=[]}}function e(e){const n=document.getElementsByClassName("form-input"),o=n[0].value,c=n[1].value,d=n[2].value,a=n[3].value,l=new t(o,c,d,a);null!=e&&(l.todos=e.todos),localStorage.setItem(o,JSON.stringify(l)),document.querySelector(".fluid-container").innerHTML="",window.location.reload()}function n(t,o){const c=document.querySelector(".form");c&&c.remove();const d=document.querySelector(".fluid-container");null!=d&&(d.innerHTML=""),document.createElement("div").classList.add("new-form-container");const a=document.createElement("form");a.classList.add("form");const l=document.createElement("h3");l.textContent=t,l.classList.add("form-header"),a.appendChild(l),[{input:document.createElement("input"),label:"NAME"},{input:document.createElement("textarea"),label:"DESCRIPTION"},{input:document.createElement("input"),label:"DUE DATE"},{input:document.createElement("input"),label:"PRIORITY"}].forEach((t=>{t.input.classList.add("form-input");const e=document.createElement("label");e.textContent=t.label,a.appendChild(e),a.appendChild(t.input)}));const i=document.createElement("div");i.classList.add("form-buttons-container");const s=document.createElement("button");if(s.classList.add("form-button"),s.textContent="Confirm",s.setAttribute("type","button"),d.appendChild(a),"NEW PROJECT FORM"==t)s.addEventListener("click",(()=>e())),i.appendChild(s);else if("ADD NEW TODO"==t)s.addEventListener("click",(()=>createToDo(o))),i.appendChild(s);else if("Editing"==t.split(" ")[0]){s.addEventListener("click",(()=>function(t){localStorage.removeItem(t.title),e(t)}(o))),i.appendChild(s);const t=document.createElement("button");t.textContent="Delete project",t.classList.add("form-button"),t.addEventListener("click",(()=>{return t=o.title,localStorage.removeItem(t),void window.location.reload();var t})),t.setAttribute("type","button"),i.appendChild(t);const c=document.createElement("button");c.textContent="Manage Project's ToDos",c.classList.add("form-button"),c.addEventListener("click",(()=>function(t){t.title;const e=document.querySelector(".form");e&&e.remove();const o=document.querySelector(".fluid-container");null!=o&&(o.innerHTML=""),document.createElement("div").classList.add("manage-todos-form-form-container");const c=document.createElement("form");c.classList.add("form");const d=document.createElement("h3");if(d.classList.add("form-header"),d.textContent=`Manage ToDos for ${t.title}`,c.appendChild(d),null==t.todos||0===t.todos.length){const t=document.createElement("p");t.textContent="This project currently has no ToDos.",t.classList.add("no-todos"),c.appendChild(t)}else{const e=document.createElement("ol");t.todos.forEach((t=>{const n=document.createElement("input");n.value=t.content,n.classList.add("form-input");const o=document.createElement("li");o.appendChild(n),e.appendChild(o)})),c.appendChild(e)}const a=document.createElement("button");a.classList.add("form-button"),a.textContent="Add ToDo",a.addEventListener("click",(()=>n("ADD NEW TODO"))),a.setAttribute("type","button"),c.appendChild(a),o.appendChild(c)}(o))),c.setAttribute("type","button"),i.appendChild(c);const d=document.getElementsByClassName("form-input");console.log(d);const a=d[0],l=d[1],r=d[2],u=d[3];a.value=o.title,l.value=o.description,r.value=o.dueDate,u.value=o.priority}a.appendChild(i)}const o=document.querySelector("main");!function(){const t=function(){let t=[],e=Object.keys(localStorage);return e.length,e.forEach((e=>{t.push(localStorage.getItem(e))})),t}();0==t.length?function(){const t=document.createElement("p");t.textContent="You currently have no projects. Try adding a new one right now!",o.appendChild(t)}():function(t){!function(t){const e=document.createElement("div");e.classList.add("projects-list-container"),o.appendChild(e),function(){const t=document.createElement("h2");t.textContent="YOUR PROJECTS",t.classList.add("projects-list-header"),document.querySelector(".projects-list-container").appendChild(t)}();const c=document.createElement("ul");c.classList.add("projects-list"),t.forEach((t=>{const e=JSON.parse(t),o=document.createElement("button");o.textContent=e.title,o.classList.add("projects-list-item"),o.addEventListener("click",(()=>function(t){n(`Editing ${t.title.toUpperCase()} `,t)}(e))),c.appendChild(o)})),e.appendChild(c)}(t)}(t),function(){const t=document.createElement("div");t.classList.add("buttons-container");const e=document.createElement("button");e.textContent="ADD PROJECT",e.classList.add("main-button"),e.addEventListener("click",(()=>n("NEW PROJECT FORM"))),t.appendChild(e),o.appendChild(t)}(),function(){const t=document.createElement("div");t.classList.add("fluid-container"),o.appendChild(t)}()}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L21vZGVscy1tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vdmFuaWxsYS10b2Rvcy8uL3NyYy9hcHAvcHJvamVjdC9jcmVhdGUtbmV3LXByb2plY3QvY3JlYXRlLW5ldy1wcm9qZWN0LmpzIiwid2VicGFjazovL3ZhbmlsbGEtdG9kb3MvLi9zcmMvYXBwL3NoYXJlZC9jcmVhdGUtbmV3LWZvcm0uanMiLCJ3ZWJwYWNrOi8vdmFuaWxsYS10b2Rvcy8uL3NyYy9hcHAvcHJvamVjdC9wcm9qZWN0LWVkaXRpb24td2luZG93L3VwZGF0ZS1wcm9qZWN0LmpzIiwid2VicGFjazovL3ZhbmlsbGEtdG9kb3MvLi9zcmMvYXBwL3Byb2plY3QvcHJvamVjdC1lZGl0aW9uLXdpbmRvdy9kZWxldGUtcHJvamVjdC5qcyIsIndlYnBhY2s6Ly92YW5pbGxhLXRvZG9zLy4vc3JjL2FwcC90b2RvL21hbmFnZS10b2Rvcy5qcyIsIndlYnBhY2s6Ly92YW5pbGxhLXRvZG9zLy4vc3JjL2FwcC9zdGFydC11cC5qcyIsIndlYnBhY2s6Ly92YW5pbGxhLXRvZG9zLy4vc3JjL2FwcC9wcm9qZWN0L3Byb2plY3QtZWRpdGlvbi13aW5kb3cvcHJvamVjdC1lZGl0aW9uLXdpbmRvdy5qcyIsIndlYnBhY2s6Ly92YW5pbGxhLXRvZG9zLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBUb0RvQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRlbnQpIHtcbiAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb2plY3RDbGFzcyB7XG4gICAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSkge1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgdGhpcy50b2RvcyA9IFtdO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IHsgUHJvamVjdENsYXNzIH0gZnJvbSBcIi4uLy4uL21vZGVscy9tb2RlbHMtbW9kdWxlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOZXdQcm9qZWN0KHByb2plY3QpIHtcblxuICAgIGNvbnN0IGZvcm1JbnB1dHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdmb3JtLWlucHV0Jyk7XG4gICAgY29uc3QgbmV3UHJvamVjdFRpdGxlID0gZm9ybUlucHV0c1swXS52YWx1ZTtcbiAgICBjb25zdCBuZXdQcm9qZWN0RGVzY3JpcHRpb24gPSBmb3JtSW5wdXRzWzFdLnZhbHVlO1xuICAgIGNvbnN0IG5ld1Byb2plY3REdWVEYXRlID0gZm9ybUlucHV0c1syXS52YWx1ZTtcbiAgICBjb25zdCBuZXdQcm9qZWN0UHJpb3JpdHkgPSBmb3JtSW5wdXRzWzNdLnZhbHVlO1xuICBcbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gbmV3IFByb2plY3RDbGFzcyhuZXdQcm9qZWN0VGl0bGUsIG5ld1Byb2plY3REZXNjcmlwdGlvbixuZXdQcm9qZWN0RHVlRGF0ZSwgbmV3UHJvamVjdFByaW9yaXR5KTtcblxuICAgIGlmIChwcm9qZWN0ICE9IHVuZGVmaW5lZCkge1xuICAgICAgbmV3UHJvamVjdC50b2RvcyA9IHByb2plY3QudG9kb3M7XG4gICAgfVxuICBcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShuZXdQcm9qZWN0VGl0bGUsIEpTT04uc3RyaW5naWZ5KG5ld1Byb2plY3QpKTtcbiAgXG4gICAgY29uc3QgZmx1aWRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmx1aWQtY29udGFpbmVyJyk7XG4gICAgZmx1aWRDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xufSIsImltcG9ydCB7Y3JlYXRlTmV3UHJvamVjdH0gZnJvbSAnLi4vcHJvamVjdC9jcmVhdGUtbmV3LXByb2plY3QvY3JlYXRlLW5ldy1wcm9qZWN0JztcbmltcG9ydCB7ZGVsZXRlUHJvamVjdH0gZnJvbSAnLi4vcHJvamVjdC9wcm9qZWN0LWVkaXRpb24td2luZG93L2RlbGV0ZS1wcm9qZWN0JztcbmltcG9ydCB7dXBkYXRlUHJvamVjdH0gZnJvbSAnLi4vcHJvamVjdC9wcm9qZWN0LWVkaXRpb24td2luZG93L3VwZGF0ZS1wcm9qZWN0JztcbmltcG9ydCB7b3Blbk1hbmFnZVRvZG9zV2luZG93fSBmcm9tICcuLi90b2RvL21hbmFnZS10b2Rvcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOZXdGb3JtKHBzZXVkb0VudW0sIHByb2plY3QpIHtcbiAgICBcbiAgICBjb25zdCBleGlzdGluZ0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuXG4gICAgaWYgKGV4aXN0aW5nRm9ybSkge1xuICAgICAgICBleGlzdGluZ0Zvcm0ucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgZmx1aWRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmx1aWQtY29udGFpbmVyJyk7XG4gICAgaWYgKGZsdWlkQ29udGFpbmVyICE9IHVuZGVmaW5lZCkge1xuICAgICAgICBmbHVpZENvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICB9XG5cbiAgICBjb25zdCBmb3JtQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCduZXctZm9ybS1jb250YWluZXInKTtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgIGZvcm0uY2xhc3NMaXN0LmFkZCgnZm9ybScpO1xuICAgIGNvbnN0IGgzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBoMy50ZXh0Q29udGVudCA9IHBzZXVkb0VudW07XG4gICAgaDMuY2xhc3NMaXN0LmFkZCgnZm9ybS1oZWFkZXInKTtcbiAgICBmb3JtLmFwcGVuZENoaWxkKGgzKTtcbiAgICBjb25zdCB0aXRsZUZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBjb25zdCBkZXNjcmlwdGlvbkZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICBjb25zdCBkdWVEYXRlRmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGNvbnN0IHByaW9yaXR5RmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXG4gICAgY29uc3QgaW5wdXRzID0gW1xuICAgICAgICB7aW5wdXQ6IHRpdGxlRmllbGQsIGxhYmVsOiBcIk5BTUVcIn0sXG4gICAgICAgIHtpbnB1dDogZGVzY3JpcHRpb25GaWVsZCwgbGFiZWw6IFwiREVTQ1JJUFRJT05cIn0sXG4gICAgICAgIHtpbnB1dDogZHVlRGF0ZUZpZWxkLCBsYWJlbDogXCJEVUUgREFURVwifSxcbiAgICAgICAge2lucHV0OiBwcmlvcml0eUZpZWxkLCBsYWJlbDogXCJQUklPUklUWVwifV07XG5cbiAgICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICAgIGlucHV0LmlucHV0LmNsYXNzTGlzdC5hZGQoJ2Zvcm0taW5wdXQnKTtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICBsYWJlbC50ZXh0Q29udGVudCA9IGlucHV0LmxhYmVsO1xuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dC5pbnB1dCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBidXR0b25zQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYnV0dG9uc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmb3JtLWJ1dHRvbnMtY29udGFpbmVyJyk7XG5cbiAgICBjb25zdCBwcmltYXJ5QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgcHJpbWFyeUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdmb3JtLWJ1dHRvbicpO1xuICAgIHByaW1hcnlCdXR0b24udGV4dENvbnRlbnQgPSBcIkNvbmZpcm1cIjtcbiAgICBwcmltYXJ5QnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcblxuICAgIGZsdWlkQ29udGFpbmVyLmFwcGVuZENoaWxkKGZvcm0pO1xuXG4gICAgaWYgKHBzZXVkb0VudW0gPT0gXCJORVcgUFJPSkVDVCBGT1JNXCIpIHtcbiAgICAgICAgcHJpbWFyeUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCkgPT4gY3JlYXRlTmV3UHJvamVjdCgpKTtcbiAgICAgICAgYnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChwcmltYXJ5QnV0dG9uKTtcbiAgICB9IGVsc2UgaWYgKHBzZXVkb0VudW0gPT0gXCJBREQgTkVXIFRPRE9cIikge1xuICAgICAgICBwcmltYXJ5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKSA9PiBjcmVhdGVUb0RvKHByb2plY3QpKTtcbiAgICAgICAgYnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChwcmltYXJ5QnV0dG9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzcGxpdCA9IHBzZXVkb0VudW0uc3BsaXQoJyAnKTtcbiAgICAgICAgaWYgKHNwbGl0WzBdID09IFwiRWRpdGluZ1wiKSB7XG4gICAgICAgICAgICBwcmltYXJ5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKSA9PiB1cGRhdGVQcm9qZWN0KHByb2plY3QpKTtcbiAgICAgICAgICAgIGJ1dHRvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQocHJpbWFyeUJ1dHRvbik7XG4gICAgICAgICAgICBjb25zdCBkZWxldGVCdXR0b24gPSAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICBkZWxldGVCdXR0b24udGV4dENvbnRlbnQgPSAnRGVsZXRlIHByb2plY3QnO1xuICAgICAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Zvcm0tYnV0dG9uJyk7XG4gICAgICAgICAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpID0+IGRlbGV0ZVByb2plY3QocHJvamVjdC50aXRsZSkpO1xuICAgICAgICAgICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgICAgIGJ1dHRvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgICBcbiAgICAgICAgICAgIGNvbnN0IG1hbmFnZVRvZG9zQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICBtYW5hZ2VUb2Rvc0J1dHRvbi50ZXh0Q29udGVudCA9IFwiTWFuYWdlIFByb2plY3QncyBUb0Rvc1wiO1xuICAgICAgICAgICAgbWFuYWdlVG9kb3NCdXR0b24uY2xhc3NMaXN0LmFkZCgnZm9ybS1idXR0b24nKTtcbiAgICAgICAgICAgIG1hbmFnZVRvZG9zQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gb3Blbk1hbmFnZVRvZG9zV2luZG93KHByb2plY3QpKTtcbiAgICAgICAgICAgIG1hbmFnZVRvZG9zQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgICAgIGJ1dHRvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQobWFuYWdlVG9kb3NCdXR0b24pO1xuXG4gICAgICAgICAgICBjb25zdCBmb3JtSW5wdXRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZm9ybS1pbnB1dCcpO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhmb3JtSW5wdXRzKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgdGl0bGVJbnB1dCA9IGZvcm1JbnB1dHNbMF07XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbklucHV0ID0gZm9ybUlucHV0c1sxXTtcbiAgICAgICAgICAgIGNvbnN0IGR1ZURhdGVJbnB1dCA9IGZvcm1JbnB1dHNbMl07XG4gICAgICAgICAgICBjb25zdCBwcmlvcml0eUlucHV0ID0gZm9ybUlucHV0c1szXTtcblxuICAgICAgICAgICAgdGl0bGVJbnB1dC52YWx1ZSA9IHByb2plY3QudGl0bGU7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbklucHV0LnZhbHVlID0gcHJvamVjdC5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgIGR1ZURhdGVJbnB1dC52YWx1ZSA9IHByb2plY3QuZHVlRGF0ZTtcbiAgICAgICAgICAgIHByaW9yaXR5SW5wdXQudmFsdWUgPSBwcm9qZWN0LnByaW9yaXR5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9ybS5hcHBlbmRDaGlsZChidXR0b25zQ29udGFpbmVyKTtcblxufVxuXG4iLCJpbXBvcnQgeyBjcmVhdGVOZXdQcm9qZWN0IH0gZnJvbSBcIi4uL2NyZWF0ZS1uZXctcHJvamVjdC9jcmVhdGUtbmV3LXByb2plY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVByb2plY3QocHJvamVjdCkge1xuICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShwcm9qZWN0LnRpdGxlKTtcbiAgY3JlYXRlTmV3UHJvamVjdChwcm9qZWN0KTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gZGVsZXRlUHJvamVjdChwcm9qZWN0VGl0bGUpIHtcbiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0ocHJvamVjdFRpdGxlKTtcbiAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xufSIsImltcG9ydCB7IGNyZWF0ZU5ld0Zvcm0gfSBmcm9tIFwiLi4vc2hhcmVkL2NyZWF0ZS1uZXctZm9ybVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gb3Blbk1hbmFnZVRvZG9zV2luZG93KHByb2plY3QpIHtcblxuICBjb25zdCBwc2V1ZG9FbnVtID0gYE1hbmFnZSBUb0RvcyBmb3IgJHtwcm9qZWN0LnRpdGxlfWA7XG5cbiAgY29uc3QgZXhpc3RpbmdGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcblxuICBpZiAoZXhpc3RpbmdGb3JtKSB7XG4gICAgICBleGlzdGluZ0Zvcm0ucmVtb3ZlKCk7XG4gIH1cblxuICBjb25zdCBmbHVpZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mbHVpZC1jb250YWluZXInKTtcbiAgaWYgKGZsdWlkQ29udGFpbmVyICE9IHVuZGVmaW5lZCkge1xuICAgICAgZmx1aWRDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gIH1cblxuICBjb25zdCBmb3JtQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFuYWdlLXRvZG9zLWZvcm0tZm9ybS1jb250YWluZXInKTtcbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgZm9ybS5jbGFzc0xpc3QuYWRkKCdmb3JtJyk7XG4gIGNvbnN0IGgzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgaDMuY2xhc3NMaXN0LmFkZCgnZm9ybS1oZWFkZXInKTtcbiAgaDMudGV4dENvbnRlbnQgPSBgTWFuYWdlIFRvRG9zIGZvciAke3Byb2plY3QudGl0bGV9YDtcbiAgZm9ybS5hcHBlbmRDaGlsZChoMyk7XG5cblxuICBpZiAocHJvamVjdC50b2RvcyA9PSB1bmRlZmluZWQgfHwgcHJvamVjdC50b2Rvcy5sZW5ndGggPT09IDApIHtcbiAgICBjb25zdCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIHAudGV4dENvbnRlbnQgPSAnVGhpcyBwcm9qZWN0IGN1cnJlbnRseSBoYXMgbm8gVG9Eb3MuJztcbiAgICBwLmNsYXNzTGlzdC5hZGQoJ25vLXRvZG9zJyk7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChwKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29sJyk7XG4gICAgcHJvamVjdC50b2Rvcy5mb3JFYWNoKHRvZG8gPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgaW5wdXQudmFsdWUgPSB0b2RvLmNvbnRlbnQ7XG4gICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKCdmb3JtLWlucHV0Jyk7XG4gICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICBsaS5hcHBlbmRDaGlsZChpbnB1dClcbiAgICAgIG9sLmFwcGVuZENoaWxkKGxpKTtcbiAgICB9KTtcbiAgICBmb3JtLmFwcGVuZENoaWxkKG9sKTtcbiAgfVxuICBjb25zdCBjcmVhdGVUb0RvQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIGNyZWF0ZVRvRG9CdXR0b24uY2xhc3NMaXN0LmFkZCgnZm9ybS1idXR0b24nKTtcbiAgY3JlYXRlVG9Eb0J1dHRvbi50ZXh0Q29udGVudCA9ICdBZGQgVG9Ebyc7XG4gIGNyZWF0ZVRvRG9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjcmVhdGVOZXdGb3JtKFwiQUREIE5FVyBUT0RPXCIpKTtcbiAgY3JlYXRlVG9Eb0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCdidXR0b24nKTtcbiAgZm9ybS5hcHBlbmRDaGlsZChjcmVhdGVUb0RvQnV0dG9uKTtcblxuICBmbHVpZENvbnRhaW5lci5hcHBlbmRDaGlsZChmb3JtKVxufSIsIi8vIENPUkU7XG5leHBvcnQgY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKTtcbmltcG9ydCB7Y3JlYXRlTmV3Rm9ybX0gZnJvbSAnLi9zaGFyZWQvY3JlYXRlLW5ldy1mb3JtJztcbmltcG9ydCB7IGNyZWF0ZVByb2plY3RFZGl0aW9uV2luZG93IH0gZnJvbSAnLi9wcm9qZWN0L3Byb2plY3QtZWRpdGlvbi13aW5kb3cvcHJvamVjdC1lZGl0aW9uLXdpbmRvdyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFVwICgpIHtcbiAgICBjb25zdCBwcm9qZWN0c0Zyb21TdG9yYWdlID0gZ2V0UHJvamVjdHNGcm9tU3RvcmFnZSgpO1xuICAgIFxuICAgIGlmIChwcm9qZWN0c0Zyb21TdG9yYWdlLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIGFwcGVuZE5vVG9kb3NNZXNzYWdlKClcbiAgICB9IGVsc2Uge1xuICAgICAgICBjcmVhdGVNYWluQ29udGVudChwcm9qZWN0c0Zyb21TdG9yYWdlKTtcbiAgICB9O1xuICAgIHByZXBhcmVOZWNlc3NhcnlFbGVtZW50cygpIFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvamVjdHNGcm9tU3RvcmFnZSgpIHtcbiAgICBsZXQgdmFsdWVzID0gW10sXG4gICAga2V5cyA9IE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSksXG4gICAgaSA9IGtleXMubGVuZ3RoO1xuICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICB2YWx1ZXMucHVzaChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKVxuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmROb1RvZG9zTWVzc2FnZSgpIHtcbiAgICBjb25zdCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIHAudGV4dENvbnRlbnQgPSBcIllvdSBjdXJyZW50bHkgaGF2ZSBubyBwcm9qZWN0cy4gVHJ5IGFkZGluZyBhIG5ldyBvbmUgcmlnaHQgbm93IVwiO1xuICAgIG1haW4uYXBwZW5kQ2hpbGQocCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNYWluQ29udGVudChwcm9qZWN0c0Zyb21TdG9yYWdlKSB7XG4gICAgY3JlYXRlUHJvamVjdHNMaXN0KHByb2plY3RzRnJvbVN0b3JhZ2UpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxpc3RIZWFkZXIoKSB7XG4gICAgY29uc3QgaDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgIGgyLnRleHRDb250ZW50ID0gXCJZT1VSIFBST0pFQ1RTXCI7XG4gICAgaDIuY2xhc3NMaXN0LmFkZCgncHJvamVjdHMtbGlzdC1oZWFkZXInKTtcbiAgICBjb25zdCBsaXN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWxpc3QtY29udGFpbmVyJykgICAgIFxuICAgIGxpc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoaDIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvamVjdHNMaXN0KHByb2plY3RzRnJvbVN0b3JhZ2UpIHtcbiAgICBjb25zdCBsaXN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbGlzdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0cy1saXN0LWNvbnRhaW5lcicpO1xuICAgIG1haW4uYXBwZW5kQ2hpbGQobGlzdENvbnRhaW5lcik7XG4gICAgY3JlYXRlTGlzdEhlYWRlcigpO1xuXG4gICAgY29uc3QgdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHVsLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RzLWxpc3QnKVxuICAgIHByb2plY3RzRnJvbVN0b3JhZ2UuZm9yRWFjaChwcm9qZWN0ID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdEZyb21TdG9yYWdlID0gSlNPTi5wYXJzZShwcm9qZWN0KTtcbiAgICAgICAgY29uc3QgcHJvamVjdExpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIHByb2plY3RMaXN0SXRlbS50ZXh0Q29udGVudCA9IHByb2plY3RGcm9tU3RvcmFnZS50aXRsZTtcbiAgICAgICAgcHJvamVjdExpc3RJdGVtLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RzLWxpc3QtaXRlbScpO1xuICAgICAgICBwcm9qZWN0TGlzdEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjcmVhdGVQcm9qZWN0RWRpdGlvbldpbmRvdyhwcm9qZWN0RnJvbVN0b3JhZ2UpKTtcbiAgICAgICAgdWwuYXBwZW5kQ2hpbGQocHJvamVjdExpc3RJdGVtKTtcbiAgICB9KTtcblxuICAgIGxpc3RDb250YWluZXIuYXBwZW5kQ2hpbGQodWwpO1xufVxuXG5cblxuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZU5lY2Vzc2FyeUVsZW1lbnRzKCkge1xuICAgIGNyZWF0ZUJ1dHRvbnNDb250YWluZXIoKTtcbiAgICBjcmVhdGVGbHVpZENvbnRhaW5lcigpXG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQnV0dG9uc0NvbnRhaW5lcigpIHtcbiAgICBjb25zdCBidXR0b25zQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYnV0dG9uc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdidXR0b25zLWNvbnRhaW5lcicpO1xuICAgIGNvbnN0IGFkZFByb2plY3RCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBhZGRQcm9qZWN0QnV0dG9uLnRleHRDb250ZW50ID0gXCJBREQgUFJPSkVDVFwiO1xuICAgIGFkZFByb2plY3RCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFpbi1idXR0b24nKTtcbiAgICBhZGRQcm9qZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCgpID0+IGNyZWF0ZU5ld0Zvcm0oXCJORVcgUFJPSkVDVCBGT1JNXCIpKTtcbiAgICBidXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGFkZFByb2plY3RCdXR0b24pO1xuICAgIG1haW4uYXBwZW5kQ2hpbGQoYnV0dG9uc0NvbnRhaW5lcik7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRmx1aWRDb250YWluZXIoKSB7XG4gICAgY29uc3QgZmx1aWRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBmbHVpZENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmbHVpZC1jb250YWluZXInKTtcbiAgICBtYWluLmFwcGVuZENoaWxkKGZsdWlkQ29udGFpbmVyKTtcbn1cblxuXG5cblxuXG5cblxuXG4iLCJpbXBvcnQge2NyZWF0ZU5ld0Zvcm19IGZyb20gJy4uLy4uL3NoYXJlZC9jcmVhdGUtbmV3LWZvcm0nO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvamVjdEVkaXRpb25XaW5kb3cocHJvamVjdCl7XG5cbiAgY29uc3QgcHNldWRvRW51bSA9IGBFZGl0aW5nICR7KHByb2plY3QudGl0bGUpLnRvVXBwZXJDYXNlKCl9IGA7XG4gIGNyZWF0ZU5ld0Zvcm0ocHNldWRvRW51bSwgcHJvamVjdCk7XG5cbn1cblxuICAvLyBjb25zdCBmb3JtSGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0taGVhZGVyJyk7XG4gIC8vIGZvcm1IZWFkZXIudGV4dENvbnRlbnQgPSBgRWRpdGluZyAkeyhwcm9qZWN0LnRpdGxlKS50b1VwcGVyQ2FzZSgpfSBgO1xuXG4gIC8vIGNvbnN0IGZvcm1JbnB1dHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdmb3JtLWlucHV0Jyk7XG4gIFxuICAvLyBjb25zdCB0aXRsZUlucHV0ID0gZm9ybUlucHV0c1swXTtcbiAgLy8gY29uc3QgZGVzY3JpcHRpb25JbnB1dCA9IGZvcm1JbnB1dHNbMV07XG4gIC8vIGNvbnN0IGR1ZURhdGVJbnB1dCA9IGZvcm1JbnB1dHNbMl07XG4gIC8vIGNvbnN0IHByaW9yaXR5SW5wdXQgPSBmb3JtSW5wdXRzWzNdO1xuXG4gIC8vIHRpdGxlSW5wdXQudmFsdWUgPSBwcm9qZWN0LnRpdGxlO1xuICAvLyBkZXNjcmlwdGlvbklucHV0LnZhbHVlID0gcHJvamVjdC5kZXNjcmlwdGlvbjtcbiAgLy8gZHVlRGF0ZUlucHV0LnZhbHVlID0gcHJvamVjdC5kdWVEYXRlO1xuICAvLyBwcmlvcml0eUlucHV0LnZhbHVlID0gcHJvamVjdC5wcmlvcml0eTtcblxuICAvLyBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1idXR0b24nKTtcbiAgLy8gc3VibWl0QnV0dG9uLnJlbW92ZSgpO1xuICAgIFxuICAvLyBjb25zdCBidXR0b25zQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tYnV0dG9ucy1jb250YWluZXInKTtcblxuICAvLyBjb25zdCB1cGRhdGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgLy8gdXBkYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Zvcm0tYnV0dG9uJyk7XG4gIC8vIHVwZGF0ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdDb25maXJtIGNoYW5nZXMnO1xuICAvLyB1cGRhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB1cGRhdGVQcm9qZWN0KHByb2plY3QpKTtcbiAgLy8gYnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZCh1cGRhdGVCdXR0b24pO1xuXG4gIC8vIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9ICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgLy8gZGVsZXRlQnV0dG9uLnRleHRDb250ZW50ID0gJ0RlbGV0ZSBwcm9qZWN0JztcbiAgLy8gZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Zvcm0tYnV0dG9uJyk7XG4gIC8vIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCkgPT4gZGVsZXRlUHJvamVjdChwcm9qZWN0LnRpdGxlKSk7XG4gIC8vIGJ1dHRvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcblxuICAvLyBjb25zdCBtYW5hZ2VUb2Rvc0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAvLyBtYW5hZ2VUb2Rvc0J1dHRvbi50ZXh0Q29udGVudCA9IFwiTWFuYWdlIFByb2plY3QncyBUb0Rvc1wiO1xuICAvLyBtYW5hZ2VUb2Rvc0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdmb3JtLWJ1dHRvbicpO1xuICAvLyBtYW5hZ2VUb2Rvc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG9wZW5NYW5hZ2VUb2Rvc1dpbmRvdyhwcm9qZWN0KSk7XG4gIC8vIGJ1dHRvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQobWFuYWdlVG9kb3NCdXR0b24pO1xuXG4gIC8vIGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKTtcblxuICAvLyBidXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcbiAgLy8gICBidXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAvLyB9KVxuXG5cbiAgLy8gY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gIC8vIGZvcm0uYXBwZW5kQ2hpbGQoYnV0dG9uc0NvbnRhaW5lcik7IiwiaW1wb3J0IHsgc3RhcnRVcCB9IGZyb20gXCIuL2FwcC9zdGFydC11cFwiO1xuXG5zdGFydFVwKCk7Il0sIm5hbWVzIjpbIlByb2plY3RDbGFzcyIsImNvbnN0cnVjdG9yIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsInRoaXMiLCJ0b2RvcyIsImNyZWF0ZU5ld1Byb2plY3QiLCJwcm9qZWN0IiwiZm9ybUlucHV0cyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIm5ld1Byb2plY3RUaXRsZSIsInZhbHVlIiwibmV3UHJvamVjdERlc2NyaXB0aW9uIiwibmV3UHJvamVjdER1ZURhdGUiLCJuZXdQcm9qZWN0UHJpb3JpdHkiLCJuZXdQcm9qZWN0IiwidW5kZWZpbmVkIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJIVE1MIiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJjcmVhdGVOZXdGb3JtIiwicHNldWRvRW51bSIsImV4aXN0aW5nRm9ybSIsInJlbW92ZSIsImZsdWlkQ29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImZvcm0iLCJoMyIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJpbnB1dCIsImxhYmVsIiwiZm9yRWFjaCIsImJ1dHRvbnNDb250YWluZXIiLCJwcmltYXJ5QnV0dG9uIiwic2V0QXR0cmlidXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNyZWF0ZVRvRG8iLCJzcGxpdCIsInJlbW92ZUl0ZW0iLCJ1cGRhdGVQcm9qZWN0IiwiZGVsZXRlQnV0dG9uIiwiZGVsZXRlUHJvamVjdCIsInByb2plY3RUaXRsZSIsIm1hbmFnZVRvZG9zQnV0dG9uIiwibGVuZ3RoIiwicCIsIm9sIiwidG9kbyIsImNvbnRlbnQiLCJsaSIsImNyZWF0ZVRvRG9CdXR0b24iLCJvcGVuTWFuYWdlVG9kb3NXaW5kb3ciLCJjb25zb2xlIiwibG9nIiwidGl0bGVJbnB1dCIsImRlc2NyaXB0aW9uSW5wdXQiLCJkdWVEYXRlSW5wdXQiLCJwcmlvcml0eUlucHV0IiwibWFpbiIsInByb2plY3RzRnJvbVN0b3JhZ2UiLCJ2YWx1ZXMiLCJrZXlzIiwiT2JqZWN0Iiwia2V5IiwicHVzaCIsImdldEl0ZW0iLCJnZXRQcm9qZWN0c0Zyb21TdG9yYWdlIiwiYXBwZW5kTm9Ub2Rvc01lc3NhZ2UiLCJsaXN0Q29udGFpbmVyIiwiaDIiLCJjcmVhdGVMaXN0SGVhZGVyIiwidWwiLCJwcm9qZWN0RnJvbVN0b3JhZ2UiLCJwYXJzZSIsInByb2plY3RMaXN0SXRlbSIsInRvVXBwZXJDYXNlIiwiY3JlYXRlUHJvamVjdEVkaXRpb25XaW5kb3ciLCJjcmVhdGVQcm9qZWN0c0xpc3QiLCJjcmVhdGVNYWluQ29udGVudCIsImFkZFByb2plY3RCdXR0b24iLCJjcmVhdGVCdXR0b25zQ29udGFpbmVyIiwiY3JlYXRlRmx1aWRDb250YWluZXIiLCJzdGFydFVwIl0sInNvdXJjZVJvb3QiOiIifQ==